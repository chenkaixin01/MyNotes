# 序

###### 软件开发复杂化的原因

最根本的原因在于领域本身错综复杂

###### 本书的目的

描述并简历领域建模艺术的词汇库

###### 领域的最大价值

领域最大的价值在于提供一种通用语言，这种语言时间领域专家（业务人员）和技术人员联系在一起的纽带



# 前言

### 复杂性挑战

###### 应用程序的复杂性

本书认为应用程序的主要复杂性并不在技术上，而是来自于领域本身、用户的活动或者业务



# 第一部分 运用领域模型

### 什么是领域模型

领域模型是对于现实业务的有选择的抽象概括的建模；建模是出于某种目的而概括地反应现实

### 模型在领域驱动设计中的作用

1. 模型和设计的核心相互影响。模型与实现之间的紧密结合在维护和后续开发中，可以基于对模型的理解来解释代码
2. 模型是团队所有成员适应的通用语言的中枢。
3. 模型是浓缩的知识。

### 软件的核心

软件的在于为用户解决领域相关的问题的能力

## 第一章 消化知识

领域模型建模过程中需要有充分的沟通，这有以下两点好处

- 充分沟通能够达成交流的共同语言
- 在交流的过程中与业务人员对于软件模型达成一致

### 1.1 有效建模的要素

1. 模型和实现的绑定。
2. 建立一种基于模型的语言
3. 开发一个蕴含丰富的模型
4. 提炼模型

这些要求我们在项目进行中需要根据对知识了解的进程动态调整模型，使模型更健壮，有点像AI训练

### 1.2 知识消化

知识消化一般是在开发人员的领导下，有开发人员与领域专家组成的团队共同协作，他们共同收集信息，并通过消化而将它组织为有用的形式

信息的来源：

- 领域专家脑中的知识
- 遗留系统或同领域的其他项目中积累的经验

在这一步 中，要求程序员要兼任系统分析的工作，建开发工作前探

### 1.3 持续学习

当开始编写软件时，其实我们所知甚少

这一步要求项目团队包括个人要能够快速学习知识，消化知识

对于开发人员，快速学习业务知识能够更快抽象出更好的模型，针对当前领域具有更好的扩展性

### 1.4 知识丰富的设计

业务名词，业务活动和规则涉及的实体都是领域的核心

知识消化所产生的模型能够反映出对知识的深层理解。在模型发生改变的同时，开发人员对实现的重构，以反应出模型的变化，这样新知识就被合并到应用程序中

### 1.5 深层模型

随着对领域知识的了解深入或者知识改变，领域模型需要有相应的改变能够更契合领域知识

知识消化是一种探索，它永无止境

## 第二章 交流与语言的使用

领域模型：领域模型是一组得自于项目人员头脑中的概念，以及反应了领域深层的术语和关系；这些术语和相互关系提供了模型语言的予以

### 2.1 模式：Ubiquitous Language（通用语言）

###### 为什么要用通用语言？

如果语言支离破碎，那么在项目沟通的过程中就避免不了翻译，而所有的翻译都避免不了误解的风险

###### Ubiquitous Language的词汇

- 类和主要操作的名称
- 语言中的术语
- 讨论模型中已经明确的规则

###### 通用语言应用的注意点：

- 将模型作为语言的支柱。确保团队在内部的所有交流总以及代码中坚持使用这种语言。在画图、写东西、特别是讲话时也要使用这种语言

- 通过不同的表示方法来消除难点。然后重构代码，重新命名类、方法和模块，以便与新模型保持一致。解决交谈中的术语混淆问题，
- 要认识到，通用语言的更改就是对模型的更改
- 领域专家应该地址不合适或无法充分表达领域理解的术语或结构，开发人员应密切关注那些将会妨碍设计的有歧义和不一致的地方

### 2.2  ”大声地“建模

改善模型的最佳方式之一就是通过对话来研究，试着大声说出可能的模型变化中的各种结构

讨论系统时要结合模型。使用模型元素及其交互来大声描述场景，并且按照模型允许的方式将各种概念结合到一起。找到更简单的表达方式来讲出你要讲的话，然后将这些新想法应用到图和代码中

### 2.3  一个团队，一种语言

如果连经验丰富的领域专家都不能理解模型，那么模型一定出了什么问题。模型的构建与反馈都应该面向领域专家

### 2.4 文档和图

图是一种沟通和解释手段，它们可以促进头脑风暴。简洁的小图能够很好地实现这些目标，它们只体现思想纲要，设计的重要细节应该在代码中体现出来

#### 2.4.1 书面设计文档

###### 评估文档的总体原则

- 文档应作为代码和口头交流的补充
- 文档应该鲜活且保持最新

通过将文档减至最少，并且主要用它来补充代码和口头交流，就可以避免文档与项目脱节

#### 2.4.2 完全依赖可执行代码的情况



### 2.5 解释性模型

解释性模型可以包含那些提供上下文的领域方面



## 第三章 绑定模型和实现

### 3.1 模式：Model-Driven Design

Model-Driven Design(模型驱动设计)寻求一种能够同时满足分析模型和程序设计需求的单一模型

如果模型对于程序的实现来说显得不太实用时，我们必须重新设计它。而如果模型无法忠实的描述领域的关键概念，也必须重新设计它

###### 模型应该满足以下要求

- 方便软件可以更加自然地实现模型
- 能够支持健壮的通用语言

从模型中获取用于程序设计和基本职责分配的术语。让程序代码成为模型的表达，代码的改变可能会是模型的改变。而其影响势必要波及接下来响应的项目活动

完全依赖模型的实现通常需要支持建模范式的软件开发工具和语言，比如面向对象编程

### 3.2 建模范式额工具支持

只有代码表达模型概念时，对象设计的真正突破之处才彰显出来

### 3.3 揭示主旨：为什么模型对用户至关重要

### 3.4 模式：Hands-On Modeler

任何参与建模的技术人员，不管在项目中的主要职责是什么，都必须花时间了解代码。任何负责修改代码的人员则必须学会用代码来表达模型。每一个开发人员都必须不同程度地参与模型讨论并且与领域专家保持联系。参与不同工作的人都必须有意识得通过通用语言与接触代码的人及时交换关于模型的想法